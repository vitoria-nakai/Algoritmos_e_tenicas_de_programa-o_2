/*
 Escreva um programa que procure por uma palavra específica em 
um arquivo de texto e exiba as linhas que contêm essa palavra.
*/

#include<stdio.h>
#include<stdlib.h>
#include<string.h>

int main(){
    
    char nomeArquivo[100];
    char palavra[100];
    char str[100];
    int linha = 0;
    
    printf("Digite em qual arquivo quer procurar: ");
    fgets(nomeArquivo, sizeof(nomeArquivo), stdin);
    nomeArquivo[strcspn(nomeArquivo, "\n")] = '\0';
    
    FILE * arquivo = fopen(nomeArquivo, "r");
    if(arquivo == NULL){
        printf("Problema ao abrir o arquivo.");
        return 1;
    }
    
    printf("Qual palavra você quer procurar?");
    scanf("%s", palavra);
    
    printf("A palavra está presenta nas seguintes linhas: ");
    
    while(fgets(str, sizeof(str), arquivo) != NULL){
        if(strstr(str, palavra) != NULL){
            printf("%d ", linha+1);
        }
        linha++;
    }
    
    return 0;
}
